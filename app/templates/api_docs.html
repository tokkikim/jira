{% extends "base.html" %} {% block title %}API Documentation{% endblock %} {%
block css %}
<style>
  .api-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
  }

  .api-section {
    margin-bottom: 2rem;
    padding: 1.5rem;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    background-color: #f9fafb;
  }

  .api-endpoint {
    font-family: "Courier New", monospace;
    background-color: #1f2937;
    color: #f9fafb;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    margin: 0.5rem 0;
  }

  .api-method {
    display: inline-block;
    background-color: #3b82f6;
    color: white;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.875rem;
    font-weight: bold;
    margin-right: 0.5rem;
  }

  .param-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1rem 0;
  }

  .param-table th,
  .param-table td {
    border: 1px solid #d1d5db;
    padding: 0.5rem;
    text-align: left;
  }

  .param-table th {
    background-color: #f3f4f6;
    font-weight: bold;
  }

  .example-response {
    background-color: #f8fafc;
    border: 1px solid #e2e8f0;
    border-radius: 4px;
    padding: 1rem;
    font-family: "Courier New", monospace;
    font-size: 0.875rem;
    overflow-x: auto;
  }
</style>
{% endblock %} {% block content %}
<div class="api-container">
  <h1>API Documentation</h1>

  <div class="api-section">
    <h2>Timeline API</h2>
    <p>JIRA 이슈들의 타임라인 데이터를 조회하는 API입니다.</p>

    <div class="api-endpoint">
      <span class="api-method">GET</span> /api/timeline
    </div>

    <h3>Parameters</h3>
    <table class="param-table">
      <thead>
        <tr>
          <th>Parameter</th>
          <th>Type</th>
          <th>Required</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>projects</td>
          <td>string</td>
          <td>No</td>
          <td>프로젝트 키들 (쉼표로 구분, 예: SR,AB)</td>
        </tr>
        <tr>
          <td>group_by</td>
          <td>string</td>
          <td>No</td>
          <td>그룹화 기준 (project 또는 assignee, 기본값: project)</td>
        </tr>
        <tr>
          <td>from_date</td>
          <td>string</td>
          <td>No</td>
          <td>시작 날짜 (YYYY-MM-DD 형식)</td>
        </tr>
        <tr>
          <td>to_date</td>
          <td>string</td>
          <td>No</td>
          <td>종료 날짜 (YYYY-MM-DD 형식)</td>
        </tr>
        <tr>
          <td>user_owner</td>
          <td>string</td>
          <td>No</td>
          <td>담당자 필터링</td>
        </tr>
      </tbody>
    </table>

    <h3>Example Request</h3>
    <div class="example-response">
      GET
      /api/timeline?projects=SR,AB&group_by=assignee&from_date=2024-01-01&to_date=2024-12-31
    </div>

    <h3>Example Response</h3>
    <div class="example-response">
      { "groups": [ { "id": "user1", "content": "User One" } ], "items": [ {
      "id": "ISSUE-123", "group": "user1", "content": "Issue Title", "start":
      "2024-01-15", "end": "2024-01-20", "color": "#ff6b6b" } ] }
    </div>
  </div>

  <div class="api-section">
    <h2>Error Responses</h2>
    <p>API는 다음과 같은 오류 응답을 반환할 수 있습니다:</p>

    <h3>400 Bad Request</h3>
    <div class="example-response">{ "error": "Invalid date format" }</div>

    <h3>500 Internal Server Error</h3>
    <div class="example-response">
      { "error": "Internal server error occurred" }
    </div>
  </div>
</div>
{% endblock %}
